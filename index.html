<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<link rel="stylesheet" type="text/css" href="css/reset.css" />
	<link rel="stylesheet" type="text/css" href="css/index.css" />
</head>
<body>
	<div class="wrap">
		<!-- 侧边栏 -->
		<div class="toolBar toolIn">
			<!-- 内容 -->
			<div class="toolContent"></div>
			<!-- 按钮 -->
			<div class="toolBtn cross"></div>
			<!-- 菜单 -->
			<div class="toolMenu">
				<ul>
					<li>
						<i class="icon"></i>
						<em>商品会员</em>
					</li>
					<li>
						<i class="icon"></i>
						<em>商品会员</em>
					</li>
					<li>
						<i class="icon"></i>
						<em>商品会员</em>
					</li>
					<li>
						<i class="icon"></i>
						<em>商品会员</em>
					</li>
					<li>
						<i class="icon"></i>
						<em>商品会员</em>
					</li>
					<li>
						<i class="icon"></i>
						<em>商品会员</em>
					</li>
				</ul>
			</div>
		</div>
		<!-- 头部 -->
		<div class="header">
			<!-- 通栏盒子 -->
			<div class="top">
				<!-- 版心 -->
				<div class="topMain">
					<!-- 左侧登录注册 -->
					<div class="left">
						<p>欢迎来到尚品汇！ 请</p>
						<a href="###">登录</a>
						<a href="###">注册</a>
					</div>
					<!-- 右侧头部导航 -->
					<div class="right">
						<a href="###">我的订单</a>
						<a href="###">我的购物车</a></li>
						<a href="###">我的尚品汇</a>
						<a href="###">尚品汇会员</a>
						<a href="###">企业采购</a>
						<a href="###">关注尚品汇</a>
						<a href="###">合作招商</a>
						<a href="###">商家后台</a>
					</div>
				</div>
			</div>
			<!-- logo和搜索框 -->
			<div class="logoAndSearch">
				<!-- 版心 -->
				<div class="bottomMain">
					<!-- logo -->
					<h1 class="logo">
						<a href="##">
							<img src="images/Logo.png">
						</a>
					</h1>
					<!-- 搜索框 -->
					<div class="search">
						<input type="text" />
						<button>搜索</button>
					</div>
				</div>
			</div>
		</div>
		<!-- 商品导航分类 -->
		<div class="shopNav">
			<div class="shopMain">
				<h4>全部商品分类</h4>
				<ul>
					<li>
						<a href="##">服装城</a>
					</li>
					<li>
						<a href="##">美妆馆</a>
					</li>
					<li>
						<a href="##">尚品汇超市</a>
					</li>
					<li>
						<a href="##">全球购</a>
					</li>
					<li>
						<a href="##">闪购</a>
					</li>
					<li>
						<a href="##">团购</a>
					</li>
					<li>
						<a href="##">有趣</a>
					</li>
					<li>
						<a href="##">秒杀</a>
					</li>
				</ul>
			</div>
		</div>
		<!-- 商品内容区域 -->
		<div class="main">
			<!-- 版心 -->
			<div class="mainCon">
				<!-- 路径导航区域 -->
				<div class="pathNav">
					<!-- <a href="##">手机、数码、通讯</a>
					<i>/</i>
					<a href="##">手机</a>
					<i>/</i>
					<a href="##">Apple苹果</a>
					<i>/</i>
					<a>iphone 1000S系类</a> -->
				</div>
				<!-- 商品区域 -->
				<div class="shopWrap">
					<!-- 左侧放大镜区域 -->
					<div class="previwWrap">
						<!-- 放大镜 -->
						<div class="previw">
							<!-- 小图容器 -->
							<div class="smallImgBox">
								<!-- 小图 -->
								<!-- <img src="images/s1.png"> -->
								<!-- 蒙版 -->
								<!-- 鼠标移入时添加 -->
							</div>
							<!-- 大图容器 -->
							<!-- 鼠标移入时添加 -->
						</div>
						<!-- 缩略图 -->
						<div class="thumbnail">
							<a href="javascript:;" class="prev">&lt;</a>
							<div class="itemWrap">
								<ul>
									<!-- <li>
										<img src="images/s1.png">
									</li>
									<li>
										<img src="images/s2.png">
									</li>
									<li>
										<img src="images/s3.png">
									</li>
									<li>
										<img src="images/s1.png">
									</li>
									<li>
										<img src="images/s2.png">
									</li>
									<li>
										<img src="images/s3.png">
									</li>
									<li>
										<img src="images/s1.png">
									</li>
									<li>
										<img src="images/s2.png">
									</li>
									<li>
										<img src="images/s3.png">
									</li>
									<li>
										<img src="images/s1.png">
									</li>
									<li>
										<img src="images/s2.png">
									</li>
									<li>
										<img src="images/s3.png">
									</li> -->
								</ul>
							</div>
							<a href="javascript:;" class="next">&gt;</a>
						</div>
					</div>
					<!-- 右侧商品信息区域 -->
					<div class="detail">
						<!-- 商品信息 -->
						<div class="shop">
							<!-- 上部分商品信息 -->
							<!-- 中间价格和促销区域 -->
							<!-- 下部分支持和配送 -->
						</div>
						<!-- 商品选择 -->
						<div class="chooseWrap">
							<!-- 选择结果 -->
							<div class="choosed">

							</div>
							<!-- 选项 -->
							<div class="choose">
								<!-- <dl>
									<dt>选择颜色</dt>
									<dd>金色</dd>
									<dd>银色</dd>
									<dd>黑色</dd>
								</dl>
								<dl>
									<dt>内存容量</dt>
									<dd>16G</dd>
									<dd>64G</dd>
									<dd>128G</dd>
									<dd>256G</dd>
								</dl>
								<dl>
									<dt>选择版本</dt>
									<dd>公开版</dd>
									<dd>移动版</dd>
								</dl>
								<dl>
									<dt>购买方式</dt>
									<dd>官方标配</dd>
									<dd>优惠移动版</dd>
									<dd>电信优惠版</dd>
								</dl> -->
							</div>
							<!-- 购物车 -->
							<div class="shopCar">
								<!-- 左侧选择按钮 -->
								<div class="control">
									<input type="text" />
									<a href="javascript:;">+</a>
									<a href="javascript:;">-</a>
								</div>
								<!-- 右侧购物车按钮 -->
								<button class="btn">
									加入购物车
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 商品详情区域 -->
		<div class="shopDetail">
			<!-- 侧边栏 -->
			<aside>
				<!-- 按钮区域 -->
				<div class="tabWrap">
					<h4 class="active">相关分类</h4>
					<h4>推荐品牌</h4>
				</div>
				<!-- 内容区域 -->
				<div class="tabContent">
					<div class="active">
						<ul class="partList">
							<li>手机</li>
							<li>内存卡</li>
							<li>贴膜</li>
							<li>移动电源</li>
							<li>手机壳</li>
							<li>iphone配件</li>
							<li>手机耳机</li>
							<li>平板电脑</li>
						</ul>
						<div class="goodsList">
							<div class="item">
								<div class="partImg">
									<img src="images/part01.png" >
								</div>
								<p class="partname">Apple苹果iPhone 6s (A1699)</p>
								<p class="partPrice">¥6088.00</p>
								<div class="partA">
									<a href="##" carBox>加入购物车</a>
								</div>
							</div>
							<div class="item">
								<div class="partImg">
									<img src="images/part01.png" >
								</div>
								<p class="partname">Apple苹果iPhone 6s (A1699)</p>
								<p class="partPrice">¥6088.00</p>
								<div class="partA">
									<a href="##" carBox>加入购物车</a>
								</div>
							</div>
							<div class="item">
								<div class="partImg">
									<img src="images/part01.png" >
								</div>
								<p class="partname">Apple苹果iPhone 6s (A1699)</p>
								<p class="partPrice">¥6088.00</p>
								<div class="partA">
									<a href="##" carBox>加入购物车</a>
								</div>
							</div>
							<div class="item">
								<div class="partImg">
									<img src="images/part01.png" >
								</div>
								<p class="partname">Apple苹果iPhone 6s (A1699)</p>
								<p class="partPrice">¥6088.00</p>
								<div class="partA">
									<a href="##" carBox>加入购物车</a>
								</div>
							</div>
						</div>
					</div>
					<div>推荐品牌</div>
				</div>
			</aside>
			<!-- 详情区 -->
			<div class="detail">
				<!-- 选择搭配 -->
				<div class="fitting">
					<h4>选择搭配</h4>
					<div class="goodSuits">
						<div class="master">
							<img src="images/l-m01.png" >
							<p>¥5299</p>
							<i>+</i>
						</div>
						<div class="suits">
							<div class="item">
								<img src="images/dp01.png" >
								<p>Feless费勒斯VR</p>
								<label>
									<input type="checkbox" value="50"/>
									<span>50</span>
								</label>
							</div>
							<div class="item">
								<img src="images/dp01.png" >
								<p>Feless费勒斯VR</p>
								<label>
									<input type="checkbox" value="50"/>
									<span>50</span>
								</label>
							</div>
							<div class="item">
								<img src="images/dp01.png" >
								<p>Feless费勒斯VR</p>
								<label>
									<input type="checkbox" value="50"/>
									<span>50</span>
								</label>
							</div>
							<div class="item">
								<img src="images/dp01.png" >
								<p>Feless费勒斯VR</p>
								<label>
									<input type="checkbox" value="50"/>
									<span>50</span>
								</label>
							</div>
						</div>
						<div class="result">
							<div>已购0件商品</div>
							<h5>套餐价</h5>
							<p>¥5299</p>
							<button>加入购物车</button>
						</div>
					</div>
				</div>
				<!-- 商品详情 -->
				<div class="intro">
					<ul class="tabWrap">
						<li class="active">商品介绍</li>
						<li>规格与包装</li>
						<li>售后保障</li>
						<li>商品评价</li>
						<li>手机社区</li>
					</ul>
					<div class="tabContent">
						<div class="active">
							<ul>
								<li>分辨率：1920*1080(FHD)</li>
								<li>后置摄像头：1200万像素</li>
								<li>前置摄像头：500万像素</li>
								<li>核 数：其他</li>
								<li>频 率：以官网信息为准</li>
								<li>品牌： Apple</li>
								<li>商品名称：APPLEiPhone 6s Plus</li>
								<li>商品编号：1861098</li>
								<li>商品产地：中国大陆</li>
								<li>商品毛重：0.51kg</li>
								<li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
								<li>系统：苹果（IOS）</li>
								<li>像素：1000-1600万品毛重：0.51kg</li>
								<li>机身内存：64GB</li>
							</ul>
							<img src="images/intro01.png" >
							<img src="images/intro02.png" >
							<img src="images/intro03.png" >
						</div>
						<div>规格与包装</div>
						<div>售后保障</div>
						<div>商品评价</div>
						<div>手机社区</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="js/data.js" type="text/javascript"></script>
	<script type="text/javascript">
		window.onload = function() {

			var previwIndex = 0;
			//console.log(goodData);
			//路径导航
			pathNav();
			function pathNav() {
				var path = goodData.path;
				//console.log(path.length);
				var pathNavNode = document.querySelector('.main .mainCon .pathNav');
				for (var i = 0; i < path.length; i++) {
					var a = document.createElement('a');
					if (i == path.length - 1) {
						a.innerHTML = path[i].title;
						pathNavNode.appendChild(a);
					} else {
						a.innerHTML = path[i].title;
						a.href = path[i].url;
						pathNavNode.appendChild(a);
						var iNode = document.createElement('i');
						iNode.innerHTML = '/';
						pathNavNode.appendChild(iNode);
					}
				}
			}

			//放大镜
			previw();
			function previw() {

				//放大镜
				var previwNode = document.querySelector('.main .mainCon .shopWrap .previwWrap .previw')
				//拿到小图容器
				var smallImgBox = document.querySelector('.main .mainCon .shopWrap .previwWrap .previw .smallImgBox');
				//创建蒙版
				var maskNode = null;
				//创建大图容器
				var bigImgBox = null;
				//创建大图
				var bigImg = null;
				//小图动态渲染
				var imagessrc = goodData.imagessrc;
				var smallImg = document.createElement('img');
				//小图默认为第一张
				smallImg.src = imagessrc[0].s;
				smallImgBox.appendChild(smallImg);

				//鼠标移入事件 创建蒙版 大图 大图容器
				previwNode.onmouseenter = function() {
					if (!maskNode) {
						//创建蒙版
						maskNode = document.createElement('div');
						maskNode.className = 'mask';
						smallImgBox.appendChild(maskNode);
						//创建大图容器
						bigImgBox = document.createElement('div');
						bigImgBox.className = 'bigImgBox';
						previwNode.appendChild(bigImgBox);
						//创建大图
						bigImg = document.createElement('img');
						bigImg.src = imagessrc[previwIndex].b;
						bigImgBox.appendChild(bigImg);

					}

					//鼠标移动事件
					smallImgBox.onmousemove = function(event) {
						//高版本浏览器 会将事件对象作为事件回调函数的第一个形参传递给我们使用
						//但是低版本浏览器不行    低版本浏览器 是将事件对象作为window的一个属性存在的
						event = event || window.event;

						//向左和向上  修正自身宽度及高度一半的值  即可让蒙版中心和鼠标重合
						//getBoundingClientRect()  是获取一个元素相对于视口的位置最干净的获取方式
						//鼠标距离视口左侧的值 - 父容器距离视口左侧的值 - 蒙版元素宽度的一半
						//根据当前鼠标的坐标 来修改蒙版的位置
						var maskPosition = {
							left: event.clientX - previwNode.getBoundingClientRect().left - maskNode
								.offsetWidth / 2,
							top: event.clientY - previwNode.getBoundingClientRect().top - maskNode
								.offsetHeight / 2
						}

						//蒙版不能出边界
						if (maskPosition.left < 0) {
							maskPosition.left = 0;
						} else if (maskPosition.left > previwNode.clientWidth - maskNode.offsetWidth) {
							maskPosition.left = previwNode.clientWidth - maskNode.offsetWidth;
						}
						if (maskPosition.top < 0) {
							maskPosition.top = 0;
						} else if (maskPosition.top > previwNode.clientHeight - maskNode.offsetHeight) {
							maskPosition.top = previwNode.clientHeight - maskNode.offsetHeight;
						}

						//修改蒙版的位置
						maskNode.style.left = maskPosition.left + 'px';
						maskNode.style.top = maskPosition.top + 'px';

						//根据小图的位置计算大图的位置
						var scale = (previwNode.offsetWidth - maskNode.clientWidth) / (bigImg.offsetWidth -
							bigImgBox.clientWidth);
						var bigImgPosition = {
							left: maskPosition.left / scale,
							top: maskPosition.top / scale
						}

						bigImg.style.marginLeft = -bigImgPosition.left + 'px';
						bigImg.style.marginTop = -bigImgPosition.top + 'px';
					};

					//鼠标移出后 删除蒙版 大图容器 大图
					previwNode.onmouseleave = function() {
						maskNode.parentNode.removeChild(maskNode);
						bigImgBox.parentNode.removeChild(bigImgBox);

						maskNode = null;
						bigImgBox = null;
						bigImg = null;

						previwNode.onmouseleave = null;
						smallImgBox.onmousemove = null;
					};
				};

			}

			//缩略图
			thumbnail();
			function thumbnail() {
				var imgessrc = goodData.imagessrc;

				var prevNode = document.querySelector('.main .mainCon .shopWrap .previwWrap .thumbnail .prev');
				var nextNode = document.querySelector('.main .mainCon .shopWrap .previwWrap .thumbnail .next');
				// 图片容器     为了控制这个ul的left值
				var list = document.querySelector('.main .mainCon .shopWrap .previwWrap .thumbnail .itemWrap ul');

				imgessrc.forEach(function(item) {
					//当前这个数组有多少个元素（长度）   我们就要创建多少个li  并且在每一个li当中添加一张图片
					//图片的链接 就是 当前数组当中每一个对象的s属性的值(item.s)
					var liNode = document.createElement('li');
					var imgNode = document.createElement('img');
					imgNode.src = item.s;
					liNode.appendChild(imgNode);
					list.appendChild(liNode);
				});

				var items = document.querySelectorAll('.main .mainCon .shopWrap .previwWrap .thumbnail .itemWrap ul li');
				//可以显示的张数
				var showImg = 5;
				//每次移动两张
				var moveImg = 2;
				//一共可以移动多大距离
				var allLength = (items.length - showImg) * (items[0].offsetWidth + 20);
				//每次移动的距离
				var moveLength = moveImg * (items[0].offsetWidth + 20);
				//已经移动的距离
				var hadMove = 0;
				//给next按钮绑定单击事件
				nextNode.onclick = function() {
					//已经移动的距离小于总距离时 才能继续移动
					if (hadMove < allLength) {
						if (allLength - hadMove > moveLength) {
							hadMove += moveLength;
						} else {
							hadMove = allLength;
						}
						list.style.left = -hadMove + 'px';
					}
				}

				//该prev按钮绑定单击事件
				prevNode.onclick = function() {
					//只有右移距离大于0时才可以左移
					if (hadMove > 0) {
						if (hadMove > moveLength) {
							hadMove -= moveLength;
						} else {
							hadMove = 0;
						}
						list.style.left = -hadMove + 'px';
					}
				}
			}

			//缩略图点击选择图片
			thumbnailClick();
			function thumbnailClick() {
				var imagessrc = goodData.imagessrc;
				//获取缩略图中的li集合
				var items = document.querySelectorAll('.main .mainCon .shopWrap .previwWrap .thumbnail .itemWrap ul li');
				//获取小图
				var smallImg = document.querySelector('.main .mainCon .shopWrap .previwWrap .previw .smallImgBox img');
				for (var i = 0; i < items.length; i++) {
					//增加索引  是为了在点击事件中 判断当前点击的li的索引
					//然后去数组中找到这个索引对应的那个对象  然后把这个对象的s属性对应的链接 设置给小图
					items[i].index = i;
					items[i].onclick = function() {
						smallImg.src = imagessrc[this.index].s;
						previwIndex = this.index;
					};
				}
			}

			//商品信息渲染
			shopData();
			function shopData() {
				var shopNode = document.querySelector('.main .mainCon .shopWrap .detail .shop');
				var goodsDetail = goodData.goodsDetail;
				var str = `
					<div class="shopInfo">
						<h4>${goodsDetail.title}</h4>
						<p>${goodsDetail.recommend}</p>
					</div>
					<div class="priceWrap">
						<div class="priceTop">
							<p class="title">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</p>
							<p class="price">
								<em>¥</em>
								<span>${goodsDetail.price}</span>
								<i>降价通知</i>
							</p>
							<p class="comment">累计评价 ${goodsDetail.evaluateNum}</p>
						</div>
						<div class="priceBottom">
							<p class="title">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</p>
							<div class="word">
								<i>${goodsDetail.promoteSales.type}</i>
								<span>${goodsDetail.promoteSales.content}</span>
							</div>
						</div>
					</div>
					<div class="supportWrap">
						<div class="support">
							<p class="title">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</p>
							<span class="word">${goodsDetail.support};</span>
						</div>
						<div>
							<p class="title">配&nbsp;送&nbsp;至&nbsp;</p>
							<span class="word">${goodsDetail.address}</span>
						</div>
					</div>
				`;

				shopNode.innerHTML = str;
			}

			//商品选择
			chooseWrap();
			function chooseWrap() {
				var crumbData = goodData.goodsDetail.crumbData;
				//console.log(crumbData);
				var chooseNode = document.querySelector('.main .mainCon .shopWrap .detail .chooseWrap .choose');
				var choosedNode = document.querySelector('.main .mainCon .shopWrap .detail .chooseWrap .choosed')
				//这个数据当中  有多少个对象 就要创建多少个dl 还有dt  每个对象的title属性 作为dt的文本
				//每个对象中的data属性的长度  决定了在这个dl当中有多少个dd  data数组当中每一个元素的值 就是dd的文本
				crumbData.forEach(function(item) {
					var dlNode = document.createElement('dl');
					var dtNode = document.createElement('dt');
					dtNode.innerHTML = item.title;
					dlNode.appendChild(dtNode);

					item.data.forEach(function(item) {
						var ddNode = document.createElement('dd');
						ddNode.innerHTML = item.type;
						//给每个dd添加价钱改变的属性
						ddNode.setAttribute('changePrice', item.changePrice);
						dlNode.appendChild(ddNode);
					})
					chooseNode.appendChild(dlNode);
				})

				//获取dl集合
				var dlList = document.querySelectorAll('.main .mainCon .shopWrap .detail .chooseWrap .choose dl');
				//console.log(dlList);
				//创建数组容器
				var arr = new Array(dlList.length);
				//数组填充方法  arr.fill()
				arr.fill(0);
				//console.log(arr);

				//为了能够是我们选择的结果有序   所以我们需要在存储结果的时候 就让他们按照选项的顺序进行存储
				//声明一个和选项个数长度相等的数组   然后每一次点击时   获取当前点击的这个dd的父级（dl）的索引
				//然后将选择的结果  存储进数组当中这个索引对应的位置
				//在创建时 我们遍历数组  有内容则创建 没内容直接忽略

				//遍历dlList 给每个dl添加索引 并且给每一个dl中的dd绑定单击事件
				for (var i = 0; i < dlList.length; i++) {
					dlList[i].index = i;
					(function() {
						var ddList = dlList[i].getElementsByTagName('dd');
						//console.log(ddList);
						//给每一个dd绑定单击事件
						for (var j = 0; j < ddList.length; j++) {
							ddList[j].onclick = function() {
								for (var i = 0; i < ddList.length; i++) {
									ddList[i].style.color = '#666';
								}
								this.style.color = 'red';
								arr[this.parentNode.index] = this;
								//console.log(arr);
								//数组中添加了选项，价格要改变
								priceSum(arr);

								choosedNode.innerHTML = '';

								//每次点击dd 的时候我们的筛选条件都会发生改变  我们就需要遍历arr数组 找到当中有内容的元素
								//获取文本 创建一组mark的结构 放入到choosedNode当中
								arr.forEach(function(item, index) {
									if (item) {
										//console.log('item:',item);
										var markNode = document.createElement('mark');
										markNode.innerHTML = item.innerHTML;
										var aNode = document.createElement('a');
										aNode.innerHTML = '×';
										markNode.appendChild(aNode);
										choosedNode.appendChild(markNode);
										//给a添加一个自定义属性，记录a对应的dl是哪一个
										aNode.setAttribute('num', index);
									}
								})

								//删除
								var aList = document.querySelectorAll(
									'.main .mainCon .shopWrap .detail .chooseWrap .choosed mark a');
								for (var i = 0; i < aList.length; i++) {
									aList[i].onclick = function() {
										//删除mark标签
										choosedNode.removeChild(this.parentNode);
										//获取a标签上的num属性
										var index = parseInt(this.getAttribute('num'));
										arr[index] = 0;
										//数组删除选项，价格发生变化
										priceSum(arr);
										//console.log(arr);
										var ddList = dlList[index].getElementsByTagName('dd');
										for (var i = 0; i < ddList.length; i++) {
											ddList[i].style.color = '#666';
										}
										ddList[0].style.color = 'red';

									}
								}
							};
						}
					})()
				}

				//价格计算
				function priceSum(arr) {
					//获取原价
					var price = goodData.goodsDetail.price;
					//获取显示价格的元素
					var priceNode = document.querySelector(
						'.main .mainCon .shopWrap .detail .shop .priceWrap .priceTop .price span');
					arr.forEach(function(item) {
						console.log(item);
						// 在这个循环中 item对应的是 传入数组当中存储的每一个dd元素
						if (item) {
							price += parseInt(item.getAttribute('changePrice'));
						}
						priceNode.innerHTML = price;
					})
					
					//获取选择搭配中的商品价格元素
					var masterPrice = document.querySelector('.shopDetail .detail .fitting .goodSuits .master p');
					var resultPrice = document.querySelector('.shopDetail .detail .fitting .goodSuits .result p');
					var checkedBoxNode = document.querySelectorAll('.shopDetail .detail .fitting .goodSuits .suits .item input'); 
					masterPrice.innerHTML = '¥' + price;
					for (var i = 0; i < checkedBoxNode.length; i++) {
						if(checkedBoxNode[i].checked){
							price += checkedBoxNode[i].value; 
						}
					}
					resultPrice.innerHTML = '¥' + price;
				}
			}
		
			//侧边栏tab切换
			function Tab(tabBtn,tabContent){
				this.tabBtn = tabBtn;
				this.tabContent = tabContent;
				var _this = this;
				for (var i = 0; i < this.tabBtn.length; i++) {
					this.tabBtn[i].index = i;
					this.tabBtn[i].onclick = function(){
						_this.tabClick(this);
					}
				}
			}
			Tab.prototype.tabClick = function(btn){
				//清除所有按钮、内容区的active
				for (var i = 0; i < this.tabBtn.length; i++) {
					this.tabBtn[i].className = '';
					this.tabContent[i].className = '';
				}
				btn.className = 'active';
				this.tabContent[btn.index].className = 'active';
			}
			
			//侧边栏Tab切换
			asideTab();
			function asideTab(){
				var tabBtn = document.querySelectorAll('.shopDetail aside .tabWrap h4');
				var tabContent = document.querySelectorAll('.shopDetail aside .tabContent>div');
				new Tab(tabBtn,tabContent);
			}
			
			//详情区Tab切换
			introTab();
			function introTab(){
				var tabBtn = document.querySelectorAll('.shopDetail .detail .intro .tabWrap li');
				var tabContent = document.querySelectorAll('.shopDetail .detail .intro .tabContent > div');
				new Tab(tabBtn,tabContent);
			}
			
		
			//侧边栏tab切换
			// asideTab();
			// function asideTab(){
				
			// 	var tabBtn = document.querySelectorAll('.shopDetail aside .tabWrap h4');
			// 	//获取内容集合
			// 	var tabContent = document.querySelectorAll('.shopDetail aside .tabContent>div');
				
			// 	//给每一个按钮添加索引   绑定单击事件    单击事件触发时 获取事件源（当前点击的按钮 this）的index属性
			// 	//然后去内容区集合当中让这个索引对应的div添加active这个class
			// 	for (var i = 0; i < tabBtn.length; i++) {
			// 		tabBtn[i].index = i;
			// 		tabBtn[i].onclick = function(){
			// 			//让所有的按钮、内容区都取消active
			// 			for (var i = 0; i < tabBtn.length; i++) {
			// 				tabBtn[i].className = '';
			// 				tabContent[i].className = '';
			// 			}
			// 			this.className = 'active';
			// 			tabContent[this.index].className = 'active';
			// 		}
			// 	}
				
			//}
		
			//选择搭配价钱计算
			fitting();
			function fitting(){
				//商品价格元素
				var priceNode = document.querySelector('.shopDetail .detail .fitting .goodSuits .master p');
				//搭配后的价格元素
				var resultNode = document.querySelector('.shopDetail .detail .fitting .goodSuits .result p');
				//复选框
				var checkedBoxNode = document.querySelectorAll('.shopDetail .detail .fitting .goodSuits .suits .item input'); 
				
				for (var i = 0; i < checkedBoxNode.length; i++) {
					checkedBoxNode[i].onclick = function(){
						// substr  能接受两个参数  参数1：截取的起始位置  参数2：截取的结束位置    这里的位置指的是索引
						var price = parseInt(priceNode.innerHTML.substr(1,));
						
						for (var i = 0; i < checkedBoxNode.length; i++) {
							if(checkedBoxNode[i].checked){
								price += parseInt(checkedBoxNode[i].value);
							}
						}
						resultNode.innerHTML = '¥' + price;
					};
				}
			}
		
			//侧边栏
			toolBar();
			function toolBar(){
				//获取按钮
				var toolBtn = document.querySelector('.toolBar .toolBtn');
				//获取侧边栏
				var toolBar = document.querySelector('.toolBar');
				//标志位 flag true对应收起 false对应展开
				var flag = true;
				
				toolBtn.onclick = function(){
					//进入if则说明此时侧边栏收起
					if(flag){
						//flag = false;
						toolBar.className = 'toolBar toolOut';
						toolBtn.className = 'toolBtn list';
					}else{
						//flag = true;
						toolBar.className = 'toolBar toolIn';
						toolBtn.className = 'toolBtn cross';
					}
					flag = !flag;
				};
			}
		
		};
	</script>
</body>
</html>
